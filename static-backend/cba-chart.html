<!DOCTYPE html>
<html lang="en">
<head></head>
<body style="background-color: #fff ">
    <div style="width: 1536px; background-color: #fff ">
        <div id="chartCandlestick"></div>
        <div id="chartBar"></div>
    </div>
    <link href="http://localhost:2520/asset/apexcharts/apexcharts.css"  rel="stylesheet" />
    <script src="http://localhost:2520/asset/apexcharts/apexcharts.min.js"></script>
<script>

window.initChart = function(body) {
    const optionsCandlestick = {
        chart: {
            height: 550,
            type: 'candlestick',
            toolbar: {show: false},
            animations: {
                enabled: false
            }
        },
        plotOptions: {
            candlestick: {
                colors: {
                    upward: '#3C90EB',
                    downward: '#DF7D46'
                },
//                wick: {
//                    useFillColor: false,
//                }
            }
        },
        series: [],
        title: {
            text: 'Commonwealth Bank Of Australia. (CBA.AX)',
            align: 'left'
        },
        xaxis: {
            type: 'category',
            labels: {
                trim: false,
                hideOverlappingLabels: true,
                formatter: function (value, timestamp, index) {
                    return index%4 || !value ? '' : value.toUpperCase();
                },
            }
        },
        yaxis: {
            tooltip: {
                enabled: true
            },
            min: body.min-0.05,
            max: body.max+0.05,
            labels: {
                formatter: function (value, timestamp, index) {
                    return parseInt(value * 1000) / 1000;
                }
            }
        },
    };

    const optionsBar = {
        chart: {
            height: 260,
            type: 'bar',
            toolbar: {show: false},
            animations: {
                enabled: false
            }
        },
        dataLabels: {
            enabled: false
        },
        stroke: {
            width: 0
        },
        series: [],
        xaxis: {
            type: 'category',
            labels: {
                trim: false,
                hideOverlappingLabels: true,
                formatter: function (value, timestamp, index) {
                    return index%4 || !value ? '' : value.toUpperCase();
                },
            }
        },
        yaxis: {
            tooltip: {
                enabled: true
            },
            labels: {
                formatter: function (value, timestamp, index) {
                    return (value / 1000000) + "M";
                }
            }
        }
    };

    optionsCandlestick.series = [{data: body.dataCandlestick}];
    optionsBar.series = [{name: 'volume', data: body.dataBar}];

    const chartCandlestick = new ApexCharts(
            document.querySelector("#chartCandlestick"),
            optionsCandlestick
    );
    const chartBar = new ApexCharts(
            document.querySelector("#chartBar"),
            optionsBar
    );
    chartCandlestick.render();
    chartBar.render();

}

//window.initChart({"dataCandlestick":[{"x":"10/20 11:00 pm","y":[79.25,79.25,79.199996948242,79.209999084473]},{"x":"10/20 11:05 pm","y":[79.190002441406,79.190002441406,79.059997558594,79.089996337891]},{"x":"10/20 11:10 pm","y":[79.080001831055,79.220001220703,79.059997558594,79.169998168945]},{"x":"10/20 11:15 pm","y":[79.160003662109,79.330001831055,79.139999389648,79.290000915527]},{"x":"10/20 11:20 pm","y":[79.279998779297,79.279998779297,79.220001220703,79.220001220703]},{"x":"10/20 11:25 pm","y":[79.209999084473,79.300003051758,79.199996948242,79.300003051758]},{"x":"10/20 11:30 pm","y":[79.309997558594,79.480003356934,79.300003051758,79.459999084473]},{"x":"10/20 11:35 pm","y":[79.459999084473,79.540000915527,79.440002441406,79.540000915527]},{"x":"10/20 11:40 pm","y":[79.529998779297,79.550003051758,79.459999084473,79.470001220703]},{"x":"10/20 11:45 pm","y":[79.480003356934,79.559997558594,79.470001220703,79.559997558594]},{"x":"10/20 11:50 pm","y":[79.540000915527,79.540000915527,79.419998168945,79.480003356934]},{"x":"10/20 11:55 pm","y":[79.48999786377,79.580001831055,79.480003356934,79.550003051758]},{"x":"10/21 12:00 am","y":[79.559997558594,79.610000610352,79.440002441406,79.610000610352]},{"x":"10/21 12:05 am","y":[79.580001831055,79.629997253418,79.550003051758,79.599998474121]},{"x":"10/21 12:10 am","y":[79.589996337891,79.610000610352,79.559997558594,79.580001831055]},{"x":"10/21 12:15 am","y":[79.599998474121,79.639999389648,79.540000915527,79.550003051758]},{"x":"10/21 12:20 am","y":[79.550003051758,79.559997558594,79.5,79.51000213623]},{"x":"10/21 12:25 am","y":[79.5,79.5,79.300003051758,79.300003051758]},{"x":"10/21 12:30 am","y":[79.300003051758,79.330001831055,79.269996643066,79.330001831055]},{"x":"10/21 12:35 am","y":[79.339996337891,79.360000610352,79.330001831055,79.330001831055]},{"x":"10/21 12:40 am","y":[79.319999694824,79.360000610352,79.309997558594,79.349998474121]},{"x":"10/21 12:45 am","y":[79.339996337891,79.339996337891,79.319999694824,79.319999694824]},{"x":"10/21 12:50 am","y":[79.330001831055,79.379997253418,79.330001831055,79.370002746582]},{"x":"10/21 12:55 am","y":[79.379997253418,79.389999389648,79.360000610352,79.389999389648]},{"x":"10/21 1:00 am","y":[79.379997253418,79.400001525879,79.360000610352,79.389999389648]},{"x":"10/21 1:05 am","y":[79.389999389648,79.389999389648,79.339996337891,79.349998474121]},{"x":"10/21 1:10 am","y":[79.339996337891,79.360000610352,79.300003051758,79.319999694824]},{"x":"10/21 1:15 am","y":[79.330001831055,79.339996337891,79.300003051758,79.339996337891]},{"x":"10/21 1:20 am","y":[79.339996337891,79.339996337891,79.309997558594,79.330001831055]},{"x":"10/21 1:25 am","y":[79.349998474121,79.349998474121,79.319999694824,79.319999694824]},{"x":"10/21 1:30 am","y":[79.330001831055,79.370002746582,79.319999694824,79.360000610352]},{"x":"10/21 1:35 am","y":[79.360000610352,79.360000610352,79.319999694824,79.339996337891]},{"x":"10/21 1:40 am","y":[79.330001831055,79.360000610352,79.309997558594,79.360000610352]},{"x":"10/21 1:45 am","y":[79.349998474121,79.389999389648,79.349998474121,79.360000610352]},{"x":"10/21 1:50 am","y":[79.370002746582,79.389999389648,79.349998474121,79.389999389648]},{"x":"10/21 1:55 am","y":[79.379997253418,79.410003662109,79.379997253418,79.410003662109]},{"x":"10/21 2:00 am","y":[79.419998168945,79.440002441406,79.410003662109,79.430000305176]},{"x":"10/21 2:05 am","y":[79.430000305176,79.430000305176,79.410003662109,79.410003662109]},{"x":"10/21 2:10 am","y":[79.400001525879,79.400001525879,79.389999389648,79.389999389648]},{"x":"10/21 2:15 am","y":[79.389999389648,79.400001525879,79.370002746582,79.379997253418]},{"x":"10/21 2:20 am","y":[79.379997253418,79.419998168945,79.370002746582,79.419998168945]},{"x":"10/21 2:25 am","y":[79.400001525879,79.410003662109,79.379997253418,79.379997253418]},{"x":"10/21 2:30 am","y":[79.379997253418,79.400001525879,79.379997253418,79.400001525879]},{"x":"10/21 2:35 am","y":[79.389999389648,79.440002441406,79.389999389648,79.440002441406]},{"x":"10/21 2:40 am","y":[79.430000305176,79.430000305176,79.419998168945,79.419998168945]},{"x":"10/21 2:45 am","y":[79.430000305176,79.430000305176,79.379997253418,79.389999389648]},{"x":"10/21 2:50 am","y":[79.389999389648,79.400001525879,79.389999389648,79.400001525879]},{"x":"10/21 2:55 am","y":[79.379997253418,79.400001525879,79.370002746582,79.370002746582]},{"x":"10/21 3:00 am","y":[79.379997253418,79.419998168945,79.379997253418,79.410003662109]},{"x":"10/21 3:05 am","y":[79.410003662109,79.419998168945,79.389999389648,79.389999389648]},{"x":"10/21 3:10 am","y":[79.389999389648,79.410003662109,79.370002746582,79.370002746582]},{"x":"10/21 3:20 am","y":[79.379997253418,79.389999389648,79.349998474121,79.360000610352]},{"x":"10/21 3:25 am","y":[79.360000610352,79.370002746582,79.360000610352,79.370002746582]},{"x":"10/21 3:30 am","y":[79.379997253418,79.379997253418,79.370002746582,79.370002746582]},{"x":"10/21 3:35 am","y":[79.360000610352,79.360000610352,79.360000610352,79.360000610352]},{"x":"10/21 3:40 am","y":[79.349998474121,79.400001525879,79.349998474121,79.400001525879]},{"x":"10/21 3:45 am","y":[79.410003662109,79.419998168945,79.400001525879,79.419998168945]},{"x":"10/21 3:50 am","y":[79.410003662109,79.410003662109,79.389999389648,79.389999389648]},{"x":"10/21 3:55 am","y":[79.410003662109,79.410003662109,79.379997253418,79.379997253418]},{"x":"10/21 4:00 am","y":[79.379997253418,79.389999389648,79.370002746582,79.389999389648]},{"x":"10/21 4:05 am","y":[79.379997253418,79.389999389648,79.370002746582,79.389999389648]},{"x":"10/21 4:10 am","y":[79.389999389648,79.389999389648,79.379997253418,79.379997253418]},{"x":"10/21 4:15 am","y":[79.389999389648,79.389999389648,79.349998474121,79.349998474121]},{"x":"10/21 4:20 am","y":[79.360000610352,79.379997253418,79.360000610352,79.379997253418]},{"x":"10/21 4:25 am","y":[79.389999389648,79.419998168945,79.389999389648,79.410003662109]},{"x":"10/21 4:30 am","y":[79.419998168945,79.430000305176,79.410003662109,79.410003662109]},{"x":"10/21 4:35 am","y":[79.419998168945,79.470001220703,79.419998168945,79.459999084473]},{"x":"10/21 4:40 am","y":[79.470001220703,79.470001220703,79.449996948242,79.449996948242]},{"x":"10/21 4:45 am","y":[79.459999084473,79.480003356934,79.440002441406,79.440002441406]},{"x":"10/21 4:50 am","y":[79.440002441406,79.480003356934,79.440002441406,79.459999084473]},{"x":"10/21 4:55 am","y":[79.459999084473,79.790000915527,79.449996948242,79.790000915527]},{"x":"10/21 11:00 pm","y":[79.720001220703,79.779998779297,79.709999084473,79.779998779297]},{"x":"10/21 11:05 pm","y":[79.769996643066,79.779998779297,79.569999694824,79.569999694824]},{"x":"10/21 11:10 pm","y":[79.559997558594,79.650001525879,79.529998779297,79.610000610352]},{"x":"10/21 11:15 pm","y":[79.620002746582,79.650001525879,79.580001831055,79.629997253418]},{"x":"10/21 11:20 pm","y":[79.620002746582,79.709999084473,79.610000610352,79.709999084473]},{"x":"10/21 11:25 pm","y":[79.690002441406,79.849998474121,79.690002441406,79.790000915527]},{"x":"10/21 11:30 pm","y":[79.790000915527,79.800003051758,79.639999389648,79.660003662109]},{"x":"10/21 11:35 pm","y":[79.669998168945,79.720001220703,79.620002746582,79.660003662109]},{"x":"10/21 11:40 pm","y":[79.660003662109,79.680000305176,79.629997253418,79.669998168945]},{"x":"10/21 11:45 pm","y":[79.660003662109,79.660003662109,79.550003051758,79.580001831055]},{"x":"10/21 11:50 pm","y":[79.569999694824,79.75,79.51000213623,79.73999786377]},{"x":"10/21 11:55 pm","y":[79.73999786377,79.76000213623,79.559997558594,79.569999694824]},{"x":"12:00 AM","y":[79.599998474121,79.680000305176,79.589996337891,79.639999389648]},{"x":"12:05 AM","y":[79.639999389648,79.639999389648,79.550003051758,79.610000610352]},{"x":"12:10 AM","y":[79.620002746582,79.650001525879,79.599998474121,79.610000610352]},{"x":"12:15 AM","y":[79.620002746582,79.730003356934,79.620002746582,79.709999084473]},{"x":"12:20 AM","y":[79.720001220703,79.849998474121,79.720001220703,79.75]},{"x":"12:25 AM","y":[79.769996643066,79.860000610352,79.73999786377,79.860000610352]},{"x":"12:30 AM","y":[79.870002746582,79.870002746582,79.779998779297,79.830001831055]},{"x":"12:35 AM","y":[79.839996337891,79.879997253418,79.779998779297,79.790000915527]},{"x":"12:40 AM","y":[79.779998779297,79.779998779297,79.709999084473,79.75]},{"x":"12:45 AM","y":[79.76000213623,79.76000213623,79.669998168945,79.709999084473]},{"x":"12:50 AM","y":[79.720001220703,79.73999786377,79.690002441406,79.690002441406]},{"x":"12:55 AM","y":[79.690002441406,79.699996948242,79.669998168945,79.680000305176]},{"x":"1:00 AM","y":[79.680000305176,79.680000305176,79.639999389648,79.660003662109]},{"x":"1:05 AM","y":[79.650001525879,79.690002441406,79.650001525879,79.690002441406]},{"x":"1:10 AM","y":[79.680000305176,79.680000305176,79.629997253418,79.650001525879]},{"x":"1:15 AM","y":[79.639999389648,79.699996948242,79.639999389648,79.680000305176]},{"x":"1:20 AM","y":[79.669998168945,79.680000305176,79.650001525879,79.660003662109]},{"x":"1:25 AM","y":[79.660003662109,79.669998168945,79.620002746582,79.629997253418]},{"x":"1:30 AM","y":[79.639999389648,79.660003662109,79.639999389648,79.660003662109]},{"x":"1:35 AM","y":[79.660003662109,79.669998168945,79.639999389648,79.650001525879]},{"x":"1:40 AM","y":[79.639999389648,79.639999389648,79.540000915527,79.559997558594]},{"x":"1:45 AM","y":[79.550003051758,79.559997558594,79.529998779297,79.540000915527]},{"x":"Invalid date","y":[null,null,null,null]}],"dataBar":[{"x":"10/20 11:00 pm","y":29386},{"x":"10/20 11:05 pm","y":17336},{"x":"10/20 11:10 pm","y":19407},{"x":"10/20 11:15 pm","y":12219},{"x":"10/20 11:20 pm","y":6542},{"x":"10/20 11:25 pm","y":5567},{"x":"10/20 11:30 pm","y":11779},{"x":"10/20 11:35 pm","y":13286},{"x":"10/20 11:40 pm","y":5841},{"x":"10/20 11:45 pm","y":4693},{"x":"10/20 11:50 pm","y":4620},{"x":"10/20 11:55 pm","y":5238},{"x":"10/21 12:00 am","y":7648},{"x":"10/21 12:05 am","y":8500},{"x":"10/21 12:10 am","y":5376},{"x":"10/21 12:15 am","y":7417},{"x":"10/21 12:20 am","y":5003},{"x":"10/21 12:25 am","y":10735},{"x":"10/21 12:30 am","y":8906},{"x":"10/21 12:35 am","y":544547},{"x":"10/21 12:40 am","y":6706},{"x":"10/21 12:45 am","y":15230},{"x":"10/21 12:50 am","y":9575},{"x":"10/21 12:55 am","y":25902},{"x":"10/21 1:00 am","y":7276},{"x":"10/21 1:05 am","y":4946},{"x":"10/21 1:10 am","y":9381},{"x":"10/21 1:15 am","y":6935},{"x":"10/21 1:20 am","y":9437},{"x":"10/21 1:25 am","y":5612},{"x":"10/21 1:30 am","y":12351},{"x":"10/21 1:35 am","y":5761},{"x":"10/21 1:40 am","y":19403},{"x":"10/21 1:45 am","y":7625},{"x":"10/21 1:50 am","y":7151},{"x":"10/21 1:55 am","y":13843},{"x":"10/21 2:00 am","y":7468},{"x":"10/21 2:05 am","y":6420},{"x":"10/21 2:10 am","y":3582},{"x":"10/21 2:15 am","y":5885},{"x":"10/21 2:20 am","y":8824},{"x":"10/21 2:25 am","y":7630},{"x":"10/21 2:30 am","y":8598},{"x":"10/21 2:35 am","y":2757},{"x":"10/21 2:40 am","y":5365},{"x":"10/21 2:45 am","y":7618},{"x":"10/21 2:50 am","y":2958},{"x":"10/21 2:55 am","y":5774},{"x":"10/21 3:00 am","y":5021},{"x":"10/21 3:05 am","y":4440},{"x":"10/21 3:10 am","y":3561},{"x":"10/21 3:20 am","y":7622},{"x":"10/21 3:25 am","y":7636},{"x":"10/21 3:30 am","y":2145},{"x":"10/21 3:35 am","y":12569},{"x":"10/21 3:40 am","y":10923},{"x":"10/21 3:45 am","y":9423},{"x":"10/21 3:50 am","y":7383},{"x":"10/21 3:55 am","y":5653},{"x":"10/21 4:00 am","y":4727},{"x":"10/21 4:05 am","y":3835},{"x":"10/21 4:10 am","y":6801},{"x":"10/21 4:15 am","y":9185},{"x":"10/21 4:20 am","y":6600},{"x":"10/21 4:25 am","y":8533},{"x":"10/21 4:30 am","y":10859},{"x":"10/21 4:35 am","y":29260},{"x":"10/21 4:40 am","y":16625},{"x":"10/21 4:45 am","y":12906},{"x":"10/21 4:50 am","y":13051},{"x":"10/21 4:55 am","y":18434},{"x":"10/21 11:00 pm","y":48287},{"x":"10/21 11:05 pm","y":9077},{"x":"10/21 11:10 pm","y":13101},{"x":"10/21 11:15 pm","y":7097},{"x":"10/21 11:20 pm","y":5285},{"x":"10/21 11:25 pm","y":10996},{"x":"10/21 11:30 pm","y":9777},{"x":"10/21 11:35 pm","y":10583},{"x":"10/21 11:40 pm","y":11214},{"x":"10/21 11:45 pm","y":16282},{"x":"10/21 11:50 pm","y":29009},{"x":"10/21 11:55 pm","y":8179},{"x":"12:00 AM","y":3985},{"x":"12:05 AM","y":6893},{"x":"12:10 AM","y":7636},{"x":"12:15 AM","y":11730},{"x":"12:20 AM","y":16076},{"x":"12:25 AM","y":12720},{"x":"12:30 AM","y":16337},{"x":"12:35 AM","y":11071},{"x":"12:40 AM","y":16521},{"x":"12:45 AM","y":9922},{"x":"12:50 AM","y":7072},{"x":"12:55 AM","y":5298},{"x":"1:00 AM","y":8478},{"x":"1:05 AM","y":10427},{"x":"1:10 AM","y":4285},{"x":"1:15 AM","y":12195},{"x":"1:20 AM","y":7476},{"x":"1:25 AM","y":5427},{"x":"1:30 AM","y":0},{"x":"1:35 AM","y":0},{"x":"1:40 AM","y":0},{"x":"1:45 AM","y":0},{"x":"Invalid date"}]})
</script>
</body>
</html>